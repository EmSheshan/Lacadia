<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Faculty+Glyphic&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="styles.css">

    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒ±</text></svg>">
    <title></title>

</head>

<body id="card-page" style="background-color: var(--bg-dark);">


<div class="banner-card">
    <div class="arrow-left">
            <span class="arrow" onclick="navigatePokemon('previous')">
                &#8592; #<span id="previousPokemonNumber"></span> <span id="previousPokemonName"></span>
            </span>
        <span id="previousPokemonInfo" class="pokemon-info"></span>
    </div>
    <div class="pokemon-info" id="currentPokemonInfo"></div>


    <div class="arrow-right">
            <span class="arrow" onclick="navigatePokemon('next')">
                #<span id="nextPokemonNumber"></span> <span id="nextPokemonName"> </span> &#8594;

            </span>
        <span id="nextPokemonInfo" class="pokemon-info"></span>
    </div>
</div>


<span id="pokemonCard"></span>


<button class="exit-button" onclick="window.location.href='index.html'">X</button>

<button class="toggle-dark-mode-card" onclick="toggleDarkMode()"></button>

<div id="formSwitchContainer" class="form-switch-container"></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="cardPage.js">

</script>

<script>
    // Function to toggle dark mode
    function toggleDarkMode() {
        const body = document.body;
        const button = document.querySelector('.toggle-dark-mode-card');
        body.classList.toggle('dark-mode');
        if (body.classList.contains('dark-mode')) {
            button.innerHTML = '<i class="fas fa-moon"></i>';
            changeFavicon("data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒŒ</text></svg>");
            localStorage.setItem('darkMode', 'enabled');
        } else {
            button.innerHTML = '<i class="fas fa-sun"></i>';
            changeFavicon("data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒ±</text></svg>");
            localStorage.setItem('darkMode', 'disabled');
        }
    }

    // Set initial icon and mode based on the saved state
    document.addEventListener('DOMContentLoaded', () => {
        const button = document.querySelector('.toggle-dark-mode-card');
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.body.classList.add('dark-mode');
            button.innerHTML = '<i class="fas fa-moon"></i>';
            changeFavicon("data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒŒ</text></svg>");
        } else {
            button.innerHTML = '<i class="fas fa-sun"></i>';
            changeFavicon("data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒ±</text></svg>");
        }
    });

    // Function to change the favicon dynamically
    function changeFavicon(src) {
        var link = document.createElement('link');
        var oldLink = document.getElementById('dynamic-favicon');
        link.id = 'dynamic-favicon';
        link.rel = 'icon';
        link.href = src;

        // Remove the old favicon if it exists
        if (oldLink) {
            document.head.removeChild(oldLink);
        }

        // Add the new favicon
        document.head.appendChild(link);
    }
</script>


</body>

</html>